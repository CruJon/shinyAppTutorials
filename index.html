<!DOCTYPE html>
<html>
<head>
	<!-- META -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="A collection of datasets for rstats">
	<meta name="keywords" content="David, Christopher, Ruvolo">
	<meta name="author" content="David Ruvolo">
	<!-- LINK -->
	<style type="text/css">
	.header{
		background-color: #00A6A6;
		margin-bottom: 2em;
	}

	.header-content{
		width: 90%;
		margin: auto;
		padding:5em 0 5em 0;
		color: white;
	}

	.header-content h1{
		font-size: 5rem;
		margin: 0;
		font-weight: 600;
	}

	.header-content p{
		font-size: 1.5rem;
		font-weight: 300;
	}
	@media screen and (min-width: 800px) {
	
		.container{
			width: 100%;
			margin: auto;
			display: flex;
			justify-content: center;
			align-items: top;
		}

		.column{padding: 35px;}

		.col-main{width: 75%; display: inline-block;}
		.col-side{width: 25%; display: inline-block;}

		.col-side p{
			font-size: 11pt;
			color: #525252;
		}
		.toc-wrapper{
			position: -webkit-sticky;
			position: sticky;
			top: 0;

		}
		.toc-links{list-style: none;}
		.toc-links>li{font-size: 14pt;}
		.toc-links>li:before{
			content: "\25E6";
			width: 1em;
			margin-left: -1em;
			padding: 2px;
			color: #2D7DDD;
		}

		.toc-links-nested{list-style: none;}
		.toc-links-nested li{font-size: 11pt;}
		.toc-links-nested li:before{
			content: "\2014";
			width: 1em;
			margin-left: -1em;
			padding: 2px;
			color: #424242;
		}
		.toc-links-nested li a{color:#424242;}
	}
</style>
<link rel="preload" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,600" as="style" onload="this.rel='stylesheet'">
<!-- <link rel="preload" href="css/styles.css" as="style" onload="this.rel='stylesheet'"> -->
<link rel="preload" href="css/styles.min.css" as="style" onload="this.rel='stylesheet'">
<!-- <noscript><link rel="stylesheet" href="css/styles.css"></noscript> -->
<noscript><link rel="stylesheet" href="css/styles.min.css"></noscript>
<script>
	/*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
	!function(a){"use strict";var b=function(b,c,d){function j(a){if(e.body)return a();setTimeout(function(){j(a)})}function l(){f.addEventListener&&f.removeEventListener("load",l),f.media=d||"all"}var g,e=a.document,f=e.createElement("link");if(c)g=c;else{var h=(e.body||e.getElementsByTagName("head")[0]).childNodes;g=h[h.length-1]}var i=e.styleSheets;f.rel="stylesheet",f.href=b,f.media="only x",j(function(){g.parentNode.insertBefore(f,c?g:g.nextSibling)});var k=function(a){for(var b=f.href,c=i.length;c--;)if(i[c].href===b)return a();setTimeout(function(){k(a)})};return f.addEventListener&&f.addEventListener("load",l),f.onloadcssdefined=k,k(l),f};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);
	/*! loadCSS rel=preload polyfill. [c]2017 Filament Group, Inc. MIT License */
	!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(a){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);
</script>
<title>dcrData | Shiny App Tutorials</title>
</head>
<body>
	<!-- //////////////////////////////////////////////// -->
	<!-- header -->
	<div class="header">
		<div class="header-content">
			<h1>Shiny App Tutorials</h1>
			<p>A collection of shiny app demos</p>
		</div>
	</div>
	<!-- //////////////////////////////////////////////// -->
	<div class="container">
		<div class="column col-side">
			<div class="toc-wrapper">
				<h2>Contents</h2>
				<ul class="toc-links">
					<li><a href="">Back to Top</a></li>
					<!-- login screen -->
					<li><a href="#login-screen">Login screen</a></li>
					<ul class="toc-links-nested">
						<li><a href="#login-screen-about">Why would I need a login screen?</a></li>
						<li><a href="#login-screen-work">How does the login screen work?</a></li>
						<li><a href="#login-screen-run">How do I run the demo?</a></li>
					</ul>
					<!-- sample 1 -->
					<li><a href="#hrefs-ex-1">Setting hrefs manually - part 1</a></li>
					<ul class="toc-links-nested">
						<li><a href="#hrefs-ex-1-about">Why would I need to set hrefs?</a></li>
						<li><a href="#hrefs-ex-1-work">How do I set the links?</a></li>
						<li><a href="#hrefs-ex-1-run">How do I run the demo?</a></li>
					</ul>
					<!-- sample 2 -->
					<li><a href="#hrefs-ex-2">Setting hrefs manually - part 2</a></li>
					<ul class="toc-links-nested">
						<li><a href="#hrefs-ex-2-about">Why would I need to set hrefs?</a></li>
						<li><a href="#hrefs-ex-2-work">How do I set the links?</a></li>
						<li><a href="#hrefs-ex-2-run">How do I run the demo?</a></li>
					</ul>
					<!-- data editor -->
					<li><a href="#data-editor">Data editor</a></li>
					<ul class="toc-links-nested">
						<li><a href="#data-editor-about">Why would I need a data editor?</a></li>
						<li><a href="#data-editor-work">How does the app work?</a></li>
						<li><a href="#data-editor-run">How do I run the demo?</a></li>
					</ul>
				</ul>
			</div>
		</div>
		<!-- //////////////////////////////////////////////// -->
		<div class="column col-main">
			<!-- body -->
			<div class="content">
				<!-- //////////////////////////////////////////////// -->
				<!-- App 1 -->
				<div class="app-block" id="login-screen">
					<div class="app-block-header">
					</div>
					<h1>Simple login screen</h1>
					<!-- need -->
					<h2 id="login-screen-about">Why would I need this?</h2>
					<p>You probably don't. The professional shinyapps.io account has a privacy settings that allows you to make apps private, but it does require a subscription. But if you wanted to create an 'protected' shiny app (on a department network or maybe your own server) this could be a potential solution that was inspired by this SO post.</p>
					<!-- work -->
					<h2 id="login-screen-work">How does the app work?</h2>
					<p>The way to visualize the UI structure is that there are three different 'screens': 1. login, 2. standard user UI, and 3. admin UI. When the user logs in, the username/password input is matched to the user account dataset. If the credentials do not match, then an error message is displayed. If successful, the credentials are matched to the corresponding account type (standard or admin), which renders the corresponding UI.</p>
					<h3>1. Write a 1 line UI. Everything is server side</h3>
					<p>This shiny app works by rending the UI on the server side on successful login. The ui.R file looks like this.</p>
					<pre><code>
						<span class="object">ui</span> <- <span class="function">uiOutput</span>(<span class="value">"page"</span>)
					</code></pre>
					<h3>2. Set Login Screen ObserveEvent</h3>
					<p>There is one <code class="inline function">observeEvent</code> that checks the user inputs. This event is triggered when the login button is clicked. Here's what it looks like:</p>
					<pre><code>
					<span class="comment"># On login btn click</span>
				    <span class="function">observeEvent</span>(<span class="value">input$Login</span>,{
				        
				        <span class="comment"># render error message</span>
				        <span class="object">output$message</span> <- <span class="function">renderUI</span>({
			            <span class="function">if</span>(<span class="function">!is.null</span>(<span class="value">input$Login</span>)){
			                <span class="object">my_username</span> <- <span class="function">length</span>(
			                	<span class="object">users$User</span>[<span class="function">grep</span>(
			                		<span class="argument">pattern</span> = <span class="value">input$userName</span>,
			                		<span class="argument">x</span> = <span class="value">users$User</span>)])
			                <span class="object">my_password</span> <- <span class="function">length</span>(
				                <span class="object">users$User</span>[<span class="function">grep</span>(
					                <span class="argument">pattern</span> = <span class="value">input$passwd</span>, 
					                <span class="argument">x</span> = <span class="value">users$Password</span>)])
			                <span class="function">if</span>(<span class="object">input$Login</span> > 0){
			                    <span class="function">if</span>(<span class="object">my_username</span> < 1 ||  <span class="object">my_password</span> < 1){
			                        <span class="function">HTML</span>(<span class="value">&lt;div id='error-box'&gt;
			                             Sorry, that's not the right 
			                             username or password. Please, 
			                             try again. &lt;/div&gt;"</span>)
			                    }
			                }
			            }
				        })
				        
				        <span class="comment"># CHECK INPUT</span>
				        <span class="function">if</span>(<span class="object">USER$Logged</span> == <span class="logical">FALSE</span>) {
			            <span class="function">if</span>(<span class="function">!is.null</span>(<span class="value">input$Login</span>)) {
			                <span class="function">if</span>(<span class="object">input$Login</span> > 0) {
			                    <span class="object">Username</span> <- <span class="function">isolate</span>(<span class="object">input$userName</span>)
			                    <span class="object">Password</span> <- <span class="function">isolate</span>(<span class="object">input$passwd</span>)
			                    <span class="object">Id.username</span> <- <span class="function">which</span>(
					                    <span class="object">users$User</span> == <span class="object">Username</span>
				                		 )
			                    <span class="object">Id.password</span> <- <span class="function">which</span>(
					                    <span class="object">users$Password</span> == <span class="object">Password</span>
					                    )
			                    <span class="function">if</span>(<span class="function">length</span>(<span class="object">Id.username</span>) > 0 
			                    	& <span class="function">length</span>(<span class="object">Id.password</span>) > 0) {
			                        <span class="function">if</span>(<span class="object">Id.username</span> %in% <span class="object">Id.password</span>) {
			                            <span class="object">USER$Logged</span> <- <span class="logical">TRUE</span>
			                        }
			                    }
			                }
			            }
				        }
				    })
					</code></pre>
					<p>In the first block (# render error message), the user input is checked against the list registered users. If the credentials supplied does not match any of the existing accounts, then it displays an error message. The input data is matched with existing accounts by using <code class="inline function">grep</code> to scan through the data for matching username and password, and then returns the length of the data. The return value is numeric and can only have the values of 0 or 1 where 0 equals no match and 1 equals a sucessful match. Both username and password have to return a value of 1 in order to move on.</p>
					<p>The second block (#check input) uses the same method except that when credentials are successfully matched, it sets the object <code class="argument">Logged</code> to TRUE. <code class="argument">Logged</code> is the current status of user where <code class="logical">TRUE</code> equals logged in and <code class="logical">FALSE</code> equals logged out.</p>
					<h2>3. Rendering the UI When Logged = TRUE</h2>
					<p>Rendering the UI is fairly straightforward at this point and can be triggered by a conditional statement.</p>
					<pre><code>
						<span class="package">observe</span>({
				        <span class="comment"># when logged = FALSE</span>
				        <span class="function">if</span> (<span class="object">USER$Logged</span> == <span class="logical">FALSE</span>) {
				            
				            <span class="object">output$page</span> <- <span class="function">renderUI</span>({
				                div(class="outer",<span class="function">do.call</span>(
				                bootstrapPage,c("",ui1())))
				            })
				        }
				        
				        <span class="comment"># Render UI by user type when logged = TRUE</span>
				        <span class="function">if</span> (<span class="object">USER$Logged</span> == <span class="logical">TRUE</span>){

				            <span class="comment">## get the current user's authorization level</span>
				            <span class="object">user_log</span> <- <span class="function">toupper</span>(<span class="value">input$userName</span>)
				            
				            <span class="comment"># if admin</span>
				            <span class="function">if</span>(<span class="object">user_log</span> == <span class="value">"ADMIN"</span>){
				                <span class="object">output$page</span> <- <span class="function">renderUI</span>({
				                    <span class="function">fluidPage</span>(
				                    	<span class="comment">...</span>
				                    	)
				                    )
				                })
				            }
				            
				            <span class="comment"># if standard user</span>
				            <span class="function">else</span>{
				                <span class="object">output$page</span> <- <span class="function">renderUI</span>({
				                    <span class="function">fluidPage</span>(
					                    <span class="comment">...</span>
				                    )
				                })
				            }
				        }
				    })
					</code></pre>
					<h3>Thoughts</h3>
					<p>Honestly, this is some Poltergeist level stuff that for some reason works. I've used this method to create a project management tool to manage daily activities and tasks. It was hosted on department servers and I added this login screen only those with an account could view it. In the real app, the account data was stored separately. I don't see much use for it elsewhere and it was a pain to setup. I wouldn't really use this if you have sensitive information you'd like to protect.</p>
					<!-- run app -->
					<h2 id="login-screen-run">How can I run this app?</h2>
					<p>There are two ways to run this app:</p>
					<pre><code>
						<span class="comment"># 1. Run in R/Rstudio</span>
						<span class="function">install.packages</span>("<span class="package">shiny</span>")

						<span class="package">shiny</span>::<span class="function">runGitHub</span>(
								<span class="argument">repo</span>=<span class="value">"shinyapps"</span>,
								<span class="argument">username</span>=<span class="value">"davidruvolo51"</span>,
								<span class="argument">subdir</span>=<span class="value">"Login-Screen"</span>)

						<span class="comment"># 2. Run from the terminal</span>
						<span class="object">Rscript -e </span>"<span class="package">shiny</span>::<span class="function">runGitHub</span>(
								<span class="argument">repo</span>=<span class="value">"shinyapps"</span>,
								<span class="argument">username</span>=<span class="value">"davidruvolo51"</span>,
								<span class="argument">subdir</span>=<span class="value">"Login-Screen"</span>,
								<span class="argument">launch.browser</span>=<span class="logical">TRUE)</span>
					</code></pre>

					<p>Use one of the following demo accounts to test this app.</p>
					<pre><code>
						<span class="comment"># Test out the app with one of the following accounts.</span>
					
						| type     | Username | password |
						----------------------------------
						| standard | user     | password |
						| standard | test     | test     |
						| admin    | admin    | admin    |
					</code></pre>

					<p>The source code is available on <a class="eLinks" href="https://github.com/davidruvolo51/shinyAppTutorials/tree/master/Login-Screen">github</a>.</p>
					<ul class="tags">
						<li>loginscreen</li>
						<li>useraccounts</li>
						<li>magic</li>
					</ul>
				</div>
				<!-- //////////////////////////////////////////////// -->
				<!-- App 2 -->
				<div class="app-block" id="hrefs-ex-1">
					<h1>Manually Creating hrefs 1: Simple example</h1>
					<!-- need -->
					<h2 id="hrefs-ex-1-about">Why would I need this?</h2>
					<p>Creating hrefs to tabs in shiny is tricky as the href in <code class="function">&lt;a href='target-page'&gt;...&lt;/a&gt;</code> generates new links on each <code class="function">runApp()</code>. To accomplish this, you must target the <code class="argument">value</code> in <code class="function">tabPanel()</code> using javascript. </p>
					<!-- work -->
					<h2 id="hrefs-ex-1-work">How does the app work?</h2>
					<h3>1. Create Javascript function</h3>
					<p>In this example app, the function from this <a href="https://stackoverflow.com/questions/36412407/shiny-add-link-to-another-tabpanel-in-another-tabpanel">SO question</a> loops through each element in the navbar to match the target value with the input value.</p>
					<pre><code>
						<span class="comment"># js file</span>
						<span class="function">var</span> <span class="object">customHref</span> = <span class="function">function</span>(<span class="value">tabName</span>) {
						    <span class="function">var</span> <span class="object">dropdownList</span> = document.<span class="function">getElementsByTagName</span>(<span class="value">"a"</span>);
						    <span class="function">for</span> (<span class="function">var</span> <span class="object">i</span> = <span class="value">0</span>; <span class="object">i</span> <<span class="object"> dropdownList</span>.<span class="function">length</span>; <span class="object">i</span><span class="argument">++</span>) {
						        <span class="function">var</span> <span class="object">link</span> = <span class="object">dropdownList</span>[<span class="value">i</span>];
						        <span class="function">if</span>(<span class="object">link</span>.<span class="function">getAttribute</span>(<span class="value">"data-value"</span>) == <span class="value">tabName</span>) {
						            <span class="object">link</span>.<span class="function">click</span>();
						        }
						    }
						};
					</code></pre>
					<p>This required additional reworking when using <code class="argument">href</code> in leaflet (see next app demo). I couldn't get the <code class="function">a()</code> shiny tag to work with onclick, but <code class="function">HTML(&lt;a onclick='customHref(...)'></a>)</code> is more natural for those who work with HTML.</p>
					<h3>2. Setup ui.R (or app.R) file</h3>
					<p>In order to get shiny to read the javascript function, you will need to load it. Use the <code class="function">tagsList()</code> method for structuring your app and link the javascript file using <code class="function">tags$head(tags$script(src=...))</code></p>
					<pre><code>
						<span class="comment"># ui.R/app.R</span>
						<span class="object">ui</span> <- <span class="function">tagList</span>(
						        <span class="comment"># head</span>
						        <span class="object">tags</span>$<span class="function">head</span>(
						        	<span class="object">tags</span>$<span class="function">link</span>(<span class="argument">src</span>=<span class="value">"func.js"</span>)
						        	<span class="comment">...</span>
						        )

						        <span class="comment"># ui</span>
						        <span class="function">navbarPage</span>(
					                <span class="comment">...</span>
						        )
						)
					</code></pre>
					<h3>3. Create tabPanels and assign each one a unique value</h3>
					<p>Create the desired number of tabs and assign the <code class="argument">value</code> argument a unique name (i.e.,id).</p>
					<pre><code>
						<span class="comment"># ui.R/app.R</span>
						<span class="package">ui</span> <- <span class="function">tagList</span>(
						        <span class="comment"># head</span>
						        <span class="object">tags</span>$<span class="function">head</span>(
						        	<span class="object">tags</span>$<span class="function">link</span>(<span class="argument">src</span>=<span class="value">"func.js"</span>)
						        	<span class="comment">...</span>
						        )

						        <span class="comment"># ui</span>
						        <span class="function">navbarPage</span>(
						                <span class="function">tabPanel</span>(<span class="value">"tab 1"</span>, <span class="argument">value</span>=<span class="value">"tab1"</span>),
						                <span class="function">tabPanel</span>(<span class="value">"tab 2"</span>, <span class="argument">value</span>=<span class="value">"tab2"</span>),
						                <span class="function">tabPanel</span>(<span class="value">"tab 3"</span>, <span class="argument">value</span>=<span class="value">"tab3")
						                <span class="comment">...</span>
						        )
						)
					</code></pre>
					<p>That's it! Make sure to check out the next demo for further uses of this technique.</p>
					<!-- issues -->
					<h3>Known issues</h3>
					<p>This does cause issues with the navigation bar remaining open on smaller devices after a link is clicked. To my knowledge, there isn't a solution for this for shiny users.</p>
					<!-- run app -->
					<h2 id="hrefs-ex-1-run">How can I run this app?</h2>
					<p>There are two ways to run this app:</p>
					<pre><code>
						<span class="comment"># 1. Run in R/Rstudio</span>
						<span class="function">install.packages</span>("<span class="package">shiny</span>")

						<span class="package">shiny</span>::<span class="function">runGitHub</span>(
								<span class="argument">repo</span>=<span class="value">"shinyapps"</span>,
								<span class="argument">username</span>=<span class="value">"davidruvolo51"</span>,
								<span class="argument">subdir</span>=<span class="value">"Internal-Links-Basic-Ex"</span>)

						<span class="comment"># 2. Run from the terminal</span>
						<span class="object">Rscript -e</span>"<span class="package">shiny</span>::<span class="function">runGitHub</span>(
								<span class="argument">repo</span>=<span class="value">"shinyapps"</span>,
								<span class="argument">username</span>=<span class="value">"davidruvolo51"</span>,
								<span class="argument">subdir</span>=<span class="value">"Internal-Links-Basic-Ex"</span>,
								<span class="argument">launch.browser</span>=<span class="logical">TRUE</span>)"
					</code></pre>
					<p>The source code is available on <a class="eLinks" href="https://github.com/davidruvolo51/shinyAppTutorials/tree/master/Internal-Links-Basic-Ex">github</a>.</p>
					<ul class="tags">
						<li>js</li>
						<li>workaround</li>
						<li>hrefs</li>
					</ul>
				</div>
				<!-- //////////////////////////////////////////////// -->
				<!-- App 2 -->
				<div class="app-block" id="hrefs-ex-2">
					<h1>Manually Creating hrefs 2: From Plots</h1>
					<!-- need -->
					<h2 id="hrefs-ex-2-about">Why would I need this?</h2>
					<p>This demo expands on the previous section by showing how you can create a link to another tab from a leaflet map. This can approach can be adapted for use with your favorite data vis package.</p>
					<!-- work -->
					<h2 id="hrefs-ex-2-work">How does the app work?</h2>
					<p>See the previous section for information on how to build a shiny app using this work around. In this section, I'll demonstrate how to make links using leaflet.</p>
					<h3>1. Setup the ui and enter the value names for each tab.</h3>
					<p>In this example, I created a mini-tourism app for NYC</p>
					<pre><code>
						<span class="comment"># ui.R/app.R</span>
						<span class="object">ui</span> <- <span class="function">tagList</span>(
						        <span class="comment"># head</span>
						        <span class="object">tags</span>$<span class="function">head</span>(
						        	<span class="object">tags</span>$<span class="function">link</span>(<span class="argument">src</span>=<span class="value">"func.js"</span>)
						        	<span class="comment">...</span>
						        )

						        <span class="comment"># ui</span>
						        <span class="function">navbarPage</span>(
					                <span class="function">tabPanel</span>(<span class="value">"Central Park Zoo"</span>, 
					                			<span class="argument">value</span>=<span class="value">"zoo"</span>),
					                <span class="function">tabPanel</span>(<span class="value">"Guggenheim Museum"</span>, 
					                			<span class="argument">value</span>=<span class="value">"guggenheim"</span>),
					                <span class="function">tabPanel</span>(<span class="value">"Natural History Museum"</span>, 
					                			<span class="argument">value</span>=<span class="value">"history"</span>))
						)
					</code></pre>
					<h3>2. Create a dataset</h3>
					<p>Create a dataset where column <code class="argument">hrefValue</code> has the same tab value names.</p>
					<pre><code>
						<span class="object">mapDF</span> <- <span class="function">data.frame</span>(
							<span class="argument">location</span>= c(<span class="value">"Central Park Zoo"</span>, 
																<span class="value">"Guggenheim Museum"</span>, 
																<span class="value">"Natural History Museum"</span>),
							<span class="argument">lat</span>= c(<span class="value">40.76780</span>, <span class="value">40.78292</span>, <span class="value">40.78133</span>),
							<span class="argument">lng</span>= c(<span class="value">-73.97191</span>,<span class="value">-73.95907</span>, <span class="value">-73.97413</span>),
							<span class="argument">hrefValue</span>= c(<span class="value">"zoo"</span>,<span class="value">"guggenheim"</span>,<span class="value">"history"</span>))
					</code></pre>
					<h3>3. Create a content for marker popups</h3>
					<p>The links to other tabs will go into a leaflet <code class="argument">popup</code>. For the <code class="argument">popup</code> argument in <code class="function">addMarkers()</code>, you will need to wrap the target value in <code class="function">paste0()</code> (unless the <code class="argument">onclick</code> works in <code class="function">a()</code>. Leaflet will render this a url. This will look something like this:</p>
					<pre><code>
					<span class="function">leaflet</span>(<span class="argument">data</span> = <span class="value">mapDF</span>) %>%
			            <span class="function">setView</span>(
			                <span class="argument">lat</span>= <span class="value">40.7752739</span>, 
			                <span class="argument">lng</span>= <span class="value">-73.9688518</span>,
			                <span class="argument">zoom</span>= <span class="value">14</span>) %>%
			            <span class="function">addTiles</span>() %>%
			            <span class="argument">addMarkers</span>(<span class="argument">lng</span> = <span class="value">~lng</span>, <span class="argument">lat</span> = <span class="value">~lat</span>,
			                       <span class="argument">popup</span> = <span class="function">paste0</span>(
			                           <span class="value">"Learn more about the "</span>,
			                           <span class="value">"&lt;a onclick="</span>,
			                           "<span class="function">customHref</span>('",
			                           			<span class="object">mapDF$hrefValue</span>,<span class="value">"')&gt;"</span>,
			                           <span class="object">mapDF$location</span>,
			                           <span class="value">"&lt;/a&gt;"</span>))
					</code></pre>
					<p>That's it!</p>
					<!-- run app -->
					<h2 id="hrefs-ex-2-run">How can I run this app?</h2>
					<p>There are two ways to run this app:</p>
					<pre><code>
						<span class="comment"># 1. Run in R/Rstudio</span>
						<span class="function">install.packages</span>("<span class="package">shiny</span>")

						<span class="package">shiny</span>::<span class="function">runGitHub</span>(
								<span class="argument">repo</span>=<span class="value">"shinyapps"</span>,
								<span class="argument">username</span>=<span class="value">"davidruvolo51"</span>,
								<span class="argument">subdir</span>=<span class="value">"Internal-Links"</span>)

						<span class="comment"># 2. Run from the terminal</span>
						<span class="object">Rscript -e "</span><span class="package">shiny</span>::<span class="function">runGitHub</span>(
								<span class="argument">repo</span>=<span class="value">"shinyapps"</span>,
								<span class="argument">username</span>=<span class="value">"davidruvolo51"</span>,
								<span class="argument">subdir</span>=<span class="value">"Internal-Links"</span>,
								<span class="argument">launch.browser</span>=<span class="logical">TRUE</span>)"
					</code></pre>
					<p>The source code is available on <a class="eLinks" href="https://github.com/davidruvolo51/shinyAppTutorials/tree/master/Internal-Links">github</a>.</p>
					<ul class="tags">
						<li>js</li>
						<li>workaround</li>
						<li>hrefs</li>
						<li>leaflet</li>
					</ul>
				</div>
				<!-- //////////////////////////////////////////////// -->
				<!-- App 3 -->
				<div class="app-block" id="data-editor">
					<h1>A Shiny App for Editing Data in a Shiny App</h1>
					<h2 id="data-editor-about">Why would I need this?</h2>
					<p>This app was created in order to figure out a question I've had for a while: "How can I edit a dataset in a shiny app?"</p>
					<p>As a little background, I've developed several shinyapps for the project management of clinical trials and for scientific reporting. I often collaborate with others who prefer other software (e.g., excel, SPSS, etc.). VBA is not ideal, but it get's the job done. But after much experience building dashboards this way, I've learned that the more complicated the objective, the harder it is to get it to work.</p>
					<p>In previous situations, I've used a google form as data entry. All inputs were sent to a google sheet, and then using the <code class="package2">googlesheets</code> package, the data can be pulled into R. This method was fine and it works well, but it requires more coordination between all three platforms; ideally, I'd like to have an all-in-one web app.</p>
					<p>The app I'm currently building contains several tabs: data entry, data viewer (and soon an editor), visualizations, a reporting page, and a help page. Adding the data editor feature would be useful in the event of typos or other necessary changes (e.g., name changes, modifying a value if it was entered incorrectly, updating information, etc.). This would be better than writing guides on how to modify data in the console or even having an inbox full of data modification requests.</p>
					<!-- work -->
					<h2 id="data-editor-work">How does the app work?</h2>
					<p>The app was developed with the help of vignettes in the wonderful <code class="package2">rhandsontable</code> package, various features in the <code class="package2">shinyBS</code> and <code class="package2">shinyJS</code> packages, and several posts on SO. In this example, I'm using the <code class="data">mtcars</code> dataset.</p>
					<p>To make the app work, there's base file <code class="file">cars<u>&nbsp;</u>data.RDS</code>, which is the primary data file (i.e., current).</p>
					<ol>
						<li>Click <code class="function">view</code> to move to edit mode. By default the <code class="function">save</code> button is deactivated. The default table is generated using the <code class="package2">DT</code> package.</li>
						<li>Click the <code class="function">edit</code> button to edit a column, update information, etc, and then click the <code class="function">save</code> button.</li>
						<li>The <code class="function">observeEvent(input$yes, ({...}))</code> checks to see if a current version of the base file (<code class="file">cars<u>&nbsp;</u>data.RDS</code>) exists.</li>
						<li>If <code><code class="argument">file.exists</code> == <code class="logical">TRUE</code></code>, then the version will be renamed with the current date and time (e.g., <code class="file">cars_data_20170219_111743.RDS</code>) and the modified data will be saved into the base file.</li>
						<li>If <code><code class="argument">file.exists</code> == <code class="logical">FALSE</code></code>, the cars_data.RDS will be initiated in the current directory. This is to add a level of 'security'in the event you need to consult previous versions of the data.</li>
						<li>Refresh the app</li>
					</ol>
					<h2 id="data-editor-run">How can I run this app?</h2>
					<p>There are two ways to run this app:</p>
					<pre><code>
						<span class="comment"># 1. Run in R/Rstudio</span>
						<span class="function">install.packages</span>("<span class="package">shiny</span>")

						<span class="package">shiny</span>::<span class="function">runGitHub</span>(
								<span class="argument">repo</span>=<span class="value">"shinyapps"</span>,
								<span class="argument">username</span>=<span class="value">"davidruvolo51"</span>,
								<span class="argument">subdir</span>=<span class="value">"Data-Editor"</span>
						)

						<span class="comment"># 2. Run from the terminal</span>
						<span class="object">Rscript -e </span>"<span class="package">shiny</span>::<span class="function">runGitHub</span>(
								<span class="argument">repo</span>=<span class="value">"shinyapps"</span>,
								<span class="argument">username</span>=<span class="value">"davidruvolo51"</span>,
								<span class="argument">subdir</span>=<span class="value">"Data-Editor"</span>,
								<span class="argument">launch.browser</span>=<span class="logical">TRUE</span>)"
					</code></pre>
					<p>The source code is available on <a class="eLinks" href="https://github.com/davidruvolo51/shinyAppTutorials/tree/master/Data-Editor">github</a>.</p>
					<ul class="tags">
						<li>rhandsontable</li>
						<li>data editor</li>
					</ul>
				</div>
				<!-- //////////////////////////////////////////////// -->
			</div>
		</div>
	</div>
</body>
<footer>
	<p>If you'd like to contribute to this collection, open up a pull request on <a href="https://github.com/davidruvolo51/shinyAppTutorials">github</a>.</p>
	<p>Made with <i class="fa fa-heart"></i> and <i class="fa fa-coffee"></i> by <a href="https://davidruvolo51.github.io">david ruvolo</a></p>
</footer>
</html>