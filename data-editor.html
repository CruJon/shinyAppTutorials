<!DOCTYPE html>
<html>
<head>
	<!-- META -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="A collection of datasets for rstats">
	<meta name="keywords" content="David, Christopher, Ruvolo">
	<meta name="author" content="David Ruvolo">
	<!-- LINK -->
	<style type="text/css">
	.header{
		background-color: #4D7EA8;
		margin-bottom: 2em;
	}

	.header-content{
		width: 90%;
		margin: auto;
		padding:5em 0 5em 0;
		color: white;
	}

	.header-content h1{
		font-size: 5rem;
		margin: 0;
		font-weight: 600;
	}

	.header-content p{
		font-size: 1.5rem;
		font-weight: 300;
	}
	@media screen and (min-width: 800px) {
	
		.container{
			width: 100%;
			margin: auto;
			display: flex;
			justify-content: center;
			align-items: top;
		}

		.column{padding: 35px;}

		.col-main{width: 75%; display: inline-block;}
		.col-side{width: 25%; display: inline-block;}

		.col-side p{
			font-size: 11pt;
			color: #525252;
		}
		.toc-wrapper{
			position: -webkit-sticky;
			position: sticky;
			top: 0;

		}
		.toc-links{list-style: none;}
		.toc-links>li{
			font-size: 14pt;
			line-height: 1.5;
		}
		.toc-links>li:before{
			content: "\25E6";
			width: 1em;
			margin-left: -1em;
			padding: 2px;
			color: #2D7DDD;
		}

		.toc-links-nested{list-style: none;}
		.toc-links-nested li{
			font-size: 11pt;
			line-height: 1.5;
		}
		.toc-links-nested li:before{
			content: "\2014";
			width: 1em;
			margin-left: -1em;
			padding: 2px;
			color: #424242;
		}
		.toc-links-nested li a{color:#424242;}
	}
</style>
<link rel="preload" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,600" as="style" onload="this.rel='stylesheet'">
<link rel="preload" href="https://use.fontawesome.com/9ec86712d8.css" as="style" onload="this.rel='stylesheet'">
<!-- // <link rel="preload" href="css/styles.css" as="style" onload="this.rel='stylesheet'"> -->
<link rel="preload" href="css/styles.min.css" as="style" onload="this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://use.fontawesome.com/9ec86712d8.css"></noscript>
<!-- <noscript><link rel="stylesheet" href="css/styles.css"></noscript> -->
<noscript><link rel="stylesheet" href="css/styles.min.css"></noscript>
<script>
	/*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
	!function(a){"use strict";var b=function(b,c,d){function j(a){if(e.body)return a();setTimeout(function(){j(a)})}function l(){f.addEventListener&&f.removeEventListener("load",l),f.media=d||"all"}var g,e=a.document,f=e.createElement("link");if(c)g=c;else{var h=(e.body||e.getElementsByTagName("head")[0]).childNodes;g=h[h.length-1]}var i=e.styleSheets;f.rel="stylesheet",f.href=b,f.media="only x",j(function(){g.parentNode.insertBefore(f,c?g:g.nextSibling)});var k=function(a){for(var b=f.href,c=i.length;c--;)if(i[c].href===b)return a();setTimeout(function(){k(a)})};return f.addEventListener&&f.addEventListener("load",l),f.onloadcssdefined=k,k(l),f};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);
	/*! loadCSS rel=preload polyfill. [c]2017 Filament Group, Inc. MIT License */
	!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(a){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);
</script>
<title>dcrData | Shiny App Tutorials</title>
</head>
<body>
	<!-- //////////////////////////////////////////////// -->
	<!-- header -->
	<div class="header">
		<div class="header-content">
			<h1>Shiny Tutorial: Data Editor</h1>
			<p>A Shiny App for Editing Data in A Shiny App</p>
		</div>
	</div>

	<div class="breadcrumbs-wrapper">
		<ul class="breadcrumbs">
			<li><a href="index.html"><span class="fa fa-home"></span></a></li>
			<li>Data Editor</li>
		</ul>
	</div>

	<!-- //////////////////////////////////////////////// -->
	<div class="container">
		<div class="column col-side">
			<div class="toc-wrapper">
				<h2>Contents</h2>
				<ul class="toc-links">
					<li><a href="">Back to Top</a></li>
					<li><a href="#data-editor-about">Why would I need a data editor?</a></li>
					<li><a href="#data-editor-work">How does the app work?</a></li>
					<li><a href="#data-editor-run">How do I run the demo?</a></li>
				</ul>
			</div>
		</div>
		<!-- //////////////////////////////////////////////// -->
		<div class="column col-main">
			<!-- body -->
			<div class="content">
				<div class="app-block" id="data-editor">
					<h2 id="data-editor-about">Why would I need this?</h2>
					<p>This app was created in order to figure out a question I've had for a while: "How can I edit a dataset in a shiny app?"</p>
					<p>As a little background, I've developed several shinyapps for the project management of clinical trials and for scientific reporting. I often collaborate with others who prefer other software (e.g., excel, SPSS, etc.). VBA is not ideal, but it get's the job done. But after much experience building dashboards this way, I've learned that the more complicated the objective, the harder it is to get it to work.</p>
					<p>In previous situations, I've used a google form as data entry. All inputs were sent to a google sheet, and then using the <code class="package2">googlesheets</code> package, the data can be pulled into R. This method was fine and it works well, but it requires more coordination between all three platforms; ideally, I'd like to have an all-in-one web app.</p>
					<p>The app I'm currently building contains several tabs: data entry, data viewer (and soon an editor), visualizations, a reporting page, and a help page. Adding the data editor feature would be useful in the event of typos or other necessary changes (e.g., name changes, modifying a value if it was entered incorrectly, updating information, etc.). This would be better than writing guides on how to modify data in the console or even having an inbox full of data modification requests.</p>
					<!-- work -->
					<h2 id="data-editor-work">How does the app work?</h2>
					<p>The app was developed with the help of vignettes in the wonderful <code class="package2">rhandsontable</code> package, various features in the <code class="package2">shinyBS</code> and <code class="package2">shinyJS</code> packages, and several posts on SO. In this example, I'm using the <code class="data">mtcars</code> dataset.</p>
					<p>To make the app work, there's base file <code class="file">cars<u>&nbsp;</u>data.RDS</code>, which is the primary data file (i.e., current).</p>
					<ol>
						<li>Click <code class="function">view</code> to move to edit mode. By default the <code class="function">save</code> button is deactivated. The default table is generated using the <code class="package2">DT</code> package.</li>
						<li>Click the <code class="function">edit</code> button to edit a column, update information, etc, and then click the <code class="function">save</code> button.</li>
						<li>The <code class="function">observeEvent(input$yes, ({...}))</code> checks to see if a current version of the base file (<code class="file">cars<u>&nbsp;</u>data.RDS</code>) exists.</li>
						<li>If <code><code class="argument">file.exists</code> == <code class="logical">TRUE</code></code>, then the version will be renamed with the current date and time (e.g., <code class="file">cars_data_20170219_111743.RDS</code>) and the modified data will be saved into the base file.</li>
						<li>If <code><code class="argument">file.exists</code> == <code class="logical">FALSE</code></code>, the cars_data.RDS will be initiated in the current directory. This is to add a level of 'security'in the event you need to consult previous versions of the data.</li>
						<li>Refresh the app</li>
					</ol>
					<h2 id="data-editor-run">How can I run this app?</h2>
					<p>There are two ways to run this app:</p>
					<pre><code>
						<span class="comment"># 1. Run in R/Rstudio</span>
						<span class="function">install.packages</span>("<span class="package">shiny</span>")

						<span class="package">shiny</span>::<span class="function">runGitHub</span>(
								<span class="argument">repo</span>=<span class="value">"shinyapps"</span>,
								<span class="argument">username</span>=<span class="value">"davidruvolo51"</span>,
								<span class="argument">subdir</span>=<span class="value">"Data-Editor"</span>
						)

						<span class="comment"># 2. Run from the terminal</span>
						<span class="object">Rscript -e </span>"<span class="package">shiny</span>::<span class="function">runGitHub</span>(
								<span class="argument">repo</span>=<span class="value">"shinyapps"</span>,
								<span class="argument">username</span>=<span class="value">"davidruvolo51"</span>,
								<span class="argument">subdir</span>=<span class="value">"Data-Editor"</span>,
								<span class="argument">launch.browser</span>=<span class="logical">TRUE</span>)"
					</code></pre>
					<p>The source code is available on <a class="eLinks" href="https://github.com/davidruvolo51/shinyAppTutorials/tree/master/Data-Editor">github</a>.</p>
					<ul class="tags">
						<li>rhandsontable</li>
						<li>data editor</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</body>
<footer>
	<p>If you'd like to contribute to this collection, open up a pull request on <a href="https://github.com/davidruvolo51/shinyAppTutorials">github</a>.</p>
	<p>Made with <i class="fa fa-heart"></i> and <i class="fa fa-coffee"></i> by <a href="https://davidruvolo51.github.io">david ruvolo</a></p>
</footer>
</html>